# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```
# Описание базовых классов

## Описание классов Model, которые позволяют хранить и обрабатывать данные с сервера и от пользователей.

### Класс `ApiModel` предоставляет методы для взаимодействия с сервером.

Методы:
- ` getListProductCard(): Promise<IProduct[]> ` - Получает массив объектов с данными о товарах.
- `  postOrderLot(order: IOrder): Promise<IOrderResult> ` -  Отправляет заказ на сервер.


### Класс `ProductModel` хранит информацию о продуктах и позволяет устанавливать и получать эти данные.

Методы:
- `updateProductCards(data: IProduct[])` - Принимает массив продуктов и сохраняет .
- `getProductCards` -  Возвращает текущий массив продуктов.
- `setPreview(item: IProduct)` -  Выбирает продукт для открытия модального окна с детальной информацией.


### Класс `BasketModel` хранит данные о карзине.

Методы:
- `updateBasketProducts(data: IProduct[]): IProduct[]` - Обновляет корзину новыми данными.
- `getCounter()` - Возвращает количество товаров в корзине.
- `getTotalPrice()` - Возвращает общую стоимость всех товаров в корзине.
- `addProduct(product: IProduct)` - Добавляет товар в корзину.
- `removeProduct(product: IProduct)` - Удаляет товар из корзины.
- `clearAllBasket()` - Очищает корзину.


### Класс `OrderModel` хранит данные, введенные пользователем в форму.

Методы:
- `setOrderAddress(field: string, value: string)` - Сохраняет адрес пользователя.
- `setContactData(field: string, value: string)` - Устанавливает контактные данные (email или телефон)
- `validateOrder()` - Проверяет валидность адреса и способа оплаты.
- `validateContacts()` - Проверяет валидность email и телефона.
- `getOrderLot()` - Возвращает объект с данными заказа.


## Классы View позволяют отображать элементы страницы с полученными данными, позволяют взаимодействовать с пользователем.

### Класс `CardView` отвечает за отображение карточки продукта.

Методы:
- `updateCardCategory(element: HTMLElement, value: string)` - Обновляет категорию карточки.
- `setPrice(value: number | null)` - Устанавливает цену продукта.
- `render(data: IProduct)` - Заполняет карточку данными продукта и возвращает элемент карточки.

### Класс `CardPreview` расширяет  класс `CardView` и отображает дополнительную информацию о товаре.

Методы:
- `notForSale(data: IProduct)` - Проверяет, продается ли продук.
- `render(data: IProduct)` - Заполняет карточку данными продукта и возвращает элемент карточки.

### Класс `ModalView` управляет отображением модальных окон.

Методы:
- `handleClose(event: MouseEvent)` -  Добавляет обработчики событий для закрытия модального окна..
- `open()` - Отображает модальное окон.
- `close()` - Закрывает модальное окно.
- `renderModal()` - Рендерит модальное окно.


### Класс `BasketView` отображение корзины.

Методы:
- `set items(items: HTMLElement[])` - Метод для установки списка товаров в корзине.
- `renderBusketCounter(value: number)` - Метод для обновления счетчика товаров в корзине.
- `renderTotalPrice(totalPrice: number)` - Метод для обновления общей стоимости товаров в корзине.
- `render()` - Рендерит корзину.
- `updateItems(basketItems: IProduct[])` - Обновляет элементы корзины, создавая новые элементы на основе переданного массива.
- `clear()` - Очищает корзину и обновляет счетчик корзины.

### Класс `BasketItem` отображает  отдельные элементы корзины.

Методы:
- `render(data: IProduct, item: number)` - Метод для рендеринга элемента корзины.

### Класс `OrderView` отображает форму заказа.

Методы:
- `set handlePayment(paymentMethod: string)` -  Метод для установки выбранного способа оплаты.
- `	set valid(value: boolean)`- Метод для установки состояния кнопки отправки формы.
- `render()` - Метод для рендеринга формы заказа.

### Класс `OrderContactsView` отображает модальное окно "Успех".

Методы:
- `set valid(value: boolean)` - Метод для установки состояния кнопки отправки формы.
- `render()` - Метод для рендеринга формы контактов.

### Класс `SuccessModalView` отображает модальное окно "Успех".

Методы:
- `render(total: number)` - Метод для рендеринга модального окна успешного завершения заказа.



